{% extends 'base/base.html' %}
{% load static %}

{% block content %}

<div id="wrapper" style="max-width: 800px; margin: 20px auto; padding: 0 15px;">
    <!-- 分类标签（全部/求购/供应） -->
    <div class="classification" style="margin: 20px 0;">
        <a class="ui {% if not c %}red{% else %}gray{% endif %} label" href="{% url 'home' %}" style="margin-right: 10px;">
            全部
        </a>
        <a class="ui {% if c == '1' %}red{% else %}gray{% endif %} label" href="?c=1" style="margin-right: 10px;">
            求购
        </a>
        <a class="ui {% if c == '0' %}red{% else %}gray{% endif %} label" href="?c=0">
            供应
        </a>
    </div>

    <!-- 商品列表 -->
    <div class="large ui middle aligned divided list">
        {% for item in product_list %}
        <div class="item" style="padding: 15px; border-bottom: 1px solid #eee;">
            <!-- 右侧“查看”按钮 -->
            <div class="right floated content">
                <a class="small ui blue button" href="{% url 'app:detail' item.pk %}">
                    查看详情
                </a>
            </div>

            <!-- 商品图标 -->
            <img class="ui avatar image" src="{% static 'img/ic_sell.png' %}">

            <!-- 商品信息（左侧） -->
            <div class="content">
                <div style="font-size: 16px; font-weight: 500; margin-bottom: 5px;">
                    {{ item.title }}
                </div>
                <div style="color: #666; font-size: 13px;">
                    <!-- 显示商品类型 -->
                    <span>
                        {% if item.type == 0 %}供应{% else %}求购{% endif %}
                    </span>
                    ·
                    <!-- 显示联系人 -->
                    <span>联系人：{{ item.contact|default:"未填写" }}</span>
                    ·
                    <!-- 显示发布时间 -->
                    <span>{{ item.timestamp|date:"m-d" }}</span>
                </div>
            </div>
        </div>
        {% empty %}
        <!-- 无数据时显示 -->
        <div style="text-align: center; padding: 50px 0;">
            <img src="{% static 'img/empty.png' %}" style="width: 100px; margin-bottom: 20px;" alt="暂无数据">
            <h3 style="color: #999;">暂无相关商品信息</h3>
        </div>
        {% endfor %}
    </div>

    <!-- 分页导航（保持原有） -->
    {% include "base/page_nav.html" %}
</div>

{% endblock content %}